<div class="grid grid-cols-12 gap-8">
    <div class="col-span-12">
        <p-card>
            <ng-template #title>
                <div class="flex gap-3 items-center">
                    <fa-icon [icon]="['fas', 'download']" size="2x" class="flex items-center"></fa-icon>

                    <h3 class="flex-auto">{{ 'library_importer.state.title' | translate}}</h3>
                </div>
            </ng-template>
            <div class="grid grid-cols-12 gap-4 items-center mt-5">
                @if (test) {
                <p-button
                    label="{{'button.import' | translate}}"
                    [style]="{width: '100%'}"
                    class="col-span-12 sm:col-start-7 sm:col-span-6 md:col-start-8 md:col-span-5 xl:col-start-10 xl:col-span-3"
                    (click)="startImport()"
                />
                }
                <p-table
                    #messagesTable
                    [value]="messages"
                    [tableStyle]="{ 'min-width': '10rem' }"
                    class="col-span-12"
                    [scrollable]="true"
                    scrollHeight="400px"
                >
                    <ng-template #header>
                        <tr>
                            <th>{{ 'state' | translate:{count:1} }}</th>
                            <th>{{ 'message' | translate:{count:1} }}</th>
                        </tr>
                    </ng-template>
                    <ng-template #body let-msg>
                        <tr>
                            <td>
                                @if (msg.error) {
                                <i class="pi pi-times" style="color: red"></i>
                                }@else {
                                <i class="pi pi-check" style="color: green"></i>
                                }
                            </td>
                            <td>{{ msg.message }}</td>
                        </tr>
                    </ng-template>
                </p-table>
            </div>
        </p-card>
    </div>
</div>
